@model psiconexao.Models.Consulta

@{
    ViewData["Title"] = "Excluir consulta";
}

@using System.Security.Claims;

<div class="container container-content">
    <div class="card flex-row mt-4">
        <div class="card-col-4 p-4">
            <h4>Tem certeza que deseja excluir essa consulta?</h4>
            <dl class="row">
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.Data)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.Data)
                </dd>
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.Hora)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.Hora)
                </dd>
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.Psicologo)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.Psicologo.Nome)
                </dd>
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.Paciente)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.Paciente.Nome)
                </dd>
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.Estado)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.Estado)
                </dd>
            </dl>
    
            <form asp-action="Delete" class="card-col-2 align-items-center">
                <input type="hidden" asp-for="ConsultaId" />
                <input type="submit" value="Excluir" class="button" />
                @{
                    if (User.IsInRole(Perfil.Psicologo.ToString()))
                    {
                        <a asp-controller="Consultas" asp-action="Index" asp-route-id="@Model.PsicologoId">Cancelar</a>
                    }
                    else if (User.IsInRole(Perfil.Paciente.ToString()))
                    {
                        <a asp-controller="Consultas" asp-action="Index" asp-route-id="@Model.PacienteId">Cancelar</a>
                    }
                }
             </form>
        </div>
        <img src="~/images/Inbox-cleanup-cuate.png" alt="Usuário verificando caixa de entrada" width="350px" class="hide-img" />
    </div>
</div>
